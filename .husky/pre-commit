#!/usr/bin/env sh

echo "ğŸª„Running ESLint..."
yarn run lint

if [ $? -ne 0 ]; then
    echo "âŒ Linting failed. Commit aborted."
    exit 1  # ë¦°íŠ¸ì— ì‹¤íŒ¨í•˜ë©´ ì»¤ë°‹ì„ ì¤‘ë‹¨í•©ë‹ˆë‹¤.
fi

current_branch=$(git branch --show-current)

restricted_branches="^(main|master|dev)$"


if [[ $current_branch =~ $restricted_branches ]]; then
  echo "âŒ You are on a restricted branch: $current_branch.. âŒ"
  echo "âŒ Commits to this branch are not allowed via pre-commit hook.. âŒ"
  exit 1
fi

echo "âœ… Linting passed. Proceeding with commit."
